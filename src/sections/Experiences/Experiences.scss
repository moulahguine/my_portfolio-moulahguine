@use "../../assets/styles/variables" as *;
@use "../../assets/styles/mixins" as *;

.experiences {
  @include section;

  .container {
    @include container;

    // Header container with "View All" link
    .experiences__header-container {
      @include flex-between;
    }

    // Section header
    .experiences__header {
      @include header_section;
    }

    // View all link (top right, preview mode)
    .experiences__view-all-link {
      @include next-button-style;
      font-size: $font-size-14;
      color: $gray-500;
    }

    // Tabs container
    .experiences__tabs {
      @include flex-between;
      justify-content: space-around;
      position: relative;
      gap: clamp($space-4, 2vw, $space-8);
      margin: clamp($space-8, 2vw, $space-16) 0;
      padding: $space-4;
      background-color: $gray-100;
      border-radius: $radius-md;
      width: 100%;

      // Sliding indicator
      .experiences__indicator {
        position: absolute;
        top: $space-4;
        left: $space-4;
        width: calc((100% - #{$space-8}) / var(--tab-count, 5));
        height: calc(100% - #{$space-8});
        background-color: $white;
        border-radius: $radius-md;
        transition: transform 0.3s ease-in-out;
        z-index: 0;

        @media (max-width: $breakpoint-md) {
          display: none;
        }
      }

      // Individual tab button
      .experiences__tab {
        @include flex-center;
        gap: clamp($space-4, 2vw, $space-8);
        position: relative;
        z-index: 1;
        flex: 1 0 auto;
        padding: clamp($space-4, 2vw, $space-8) 0;
        font-size: clamp($font-size-12, 2vw, $font-size-14);
        font-weight: $fw-medium;
        color: $gray-400;
        background: transparent;
        border: none;
        border-radius: $radius-md;
        cursor: pointer;
        transition: color 0.3s ease-in-out;
        white-space: nowrap;

        svg {
          color: inherit !important;
          transition: all 0.3s ease-in-out !important;
        }

        &.active {
          color: $gray-700;
          font-weight: $fw-semibold;

          svg {
            transition: all 0.3s ease-in-out;
            color: inherit !important;
            transform: scale(1.1);
          }
        }
        @media (max-width: $breakpoint-md) {
          .label {
            width: 0;
            opacity: 0;
            overflow: hidden;
            transition: all 0.3s ease-in-out;
          }

          svg {
            margin: 0 $space-12;
            scale: 1.1;
          }

          &.active {
            flex: 1 1 100%;
            background-color: $white;

            .label {
              width: auto;
              opacity: 1;
            }

            svg {
              margin: 0;
            }
          }
        }
      }
    }

    .experiences__timeline-wrapper {
      overflow: hidden;
    }

    // Timeline container
    .experiences__timeline {
      @include flex-column;
      padding: $space-8 0;
    }

    // Languages list
    .experiences__languages {
      @include flex-column;
      gap: 0;

      .experiences__language {
        display: flex;
        align-items: center;
        padding: $space-16 $space-8;
        border-bottom: 1px solid $gray-200;

        &:last-child {
          border-bottom: none;
        }

        .experiences__language-name {
          flex: 1;
          font-size: clamp($font-size-14, 2vw, $font-size-16);
          font-weight: $fw-medium;
          color: $gray-700;
        }

        .experiences__language-level {
          font-size: clamp($font-size-12, 2vw, $font-size-14);
          color: $gray-500;
          margin-right: $space-16;
        }

        .experiences__language-flag {
          font-size: clamp($font-size-18, 3vw, $font-size-24);
          line-height: 1;
        }
      }
    }

    // Empty state
    .experiences__empty {
      @include flex-column;
      justify-content: center;
      text-align: center;
      color: $gray-500;
      font-size: clamp($font-size-12, 2vw, $font-size-14);
    }

    // Footer with View All button
    .experiences__footer {
      display: flex;
      justify-content: center;
      padding: clamp($space-16, 2vw, $space-24) 0;
    }

    .experiences__view-all-btn {
      @include next-button-style;
      font-size: clamp($font-size-12, 2vw, $font-size-14);
      color: $gray-600;
      padding: clamp($space-8, 2vw, $space-12) clamp($space-16, 2vw, $space-24);
      border-radius: $radius-md;
      background-color: $gray-100;
      transition: all 0.3s ease-in-out;

      &:hover {
        background-color: $gray-200;
      }
    }
  }
}

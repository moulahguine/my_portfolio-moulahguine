@use "../../assets/styles/variables" as *;
@use "../../assets/styles/mixins" as *;

// start skills section
.skills {
  @include section;

  // main container
  .container {
    @include container;

    // header
    .skills__header {
      @include header_section;
    }

    // content wrapper with fade
    .skills__wrapper {
      position: relative;
      // Show 2 full rows + 20% of third row
      max-height: 280px;
      overflow: hidden;
      transition: max-height 0.4s ease-in-out;

      // expanded state
      &--expanded {
        max-height: 1000px;
      }
    }

    // fade overlay - covers 80% of third row
    .skills__fade {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 90px;
      background: linear-gradient(
        to bottom,
        transparent 0%,
        rgba($white, 0.6) 20%,
        rgba($white, 0.9) 60%,
        $white 100%
      );
      pointer-events: none;
      display: flex;
      align-items: flex-end;
      justify-content: center;
      padding-bottom: $space-8;
      z-index: 10;

      // down arrow indicator
      .skills__more-indicator {
        pointer-events: auto;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background-color: $white;
        border: 1px solid $gray-200;
        color: $gray-500;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        animation: bounce 2s infinite;
        transition: all 0.3s ease;

        &:hover {
          background-color: $gray-100;
          color: $gray-700;
        }

        svg {
          color: inherit;
        }
      }
    }

    // collapse button
    .skills__collapse-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: $space-4;
      margin: $space-16 auto 0;
      padding: $space-8 $space-16;
      background-color: $white;
      border: 1px solid $gray-200;
      border-radius: $radius-md;
      color: $gray-500;
      font-size: $font-size-14;
      cursor: pointer;
      transition: all 0.3s ease;

      &:hover {
        background-color: $gray-100;
        color: $gray-700;
      }

      svg {
        color: inherit;
      }
    }

    // content
    .skills__content {
      padding: $space-16 0;
      position: relative;
      z-index: 1;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
      gap: $space-16;

      @media (max-width: $breakpoint-md) {
        grid-template-columns: repeat(3, 1fr);
        gap: $space-8;
      }

      // skill card
      .skill-card {
        // cursor: pointer;
        @include flex-column;
        align-items: center;
        padding: $space-24 $space-8;
        border-radius: $radius-md;
        border: solid 1px $gray-300;
        background-color: $white;
        transition: all 0.3s ease-in-out;
        width: 130px;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;

        @media (max-width: $breakpoint-md) {
          width: auto;
        }

        // icon
        .skill-card__icon {
          @include flex-center;
          position: relative;
          transition: inherit;

          // skill icon
          svg {
            position: relative;
            transition: all 0.3s ease-in-out;
            color: $gray-600 !important;
            z-index: 2;
          }
        }

        // name
        .skill-card__name {
          // name style
          margin-top: auto;
          font-weight: $fw-regular;
          color: $gray-600;
          font-size: $font-size-14;
          text-align: center;

          @media (max-width: $breakpoint-md) {
            font-size: $font-size-12;
          }
        }

        // hover effect
        &:hover {
          .skill-card__icon {
            filter: drop-shadow(0 0 15px var(--skill-color));
            svg {
              outline: none !important;
              border: none !important;
              box-shadow: none !important;
              margin-top: -8px;
              color: var(--skill-color) !important;
            }
          }
        }
      }
    }
  }
}

// bounce animation
@keyframes bounce {
  0%,
  20%,
  50%,
  80%,
  100% {
    transform: translateY(0);
  }
  40% {
    transform: translateY(-6px);
  }
  60% {
    transform: translateY(-3px);
  }
}

// end skills section

@use "../../assets/styles/variables" as *;
@use "../../assets/styles/mixins" as *;

// Main projects section container
.projects {
  background-color: $color-bg;
  padding: calc($space-40 + 2rem) 0 calc($space-40 + 3rem);

  .projects__header {
    @include section-title;

    .projects__subtitle {
      @include subtitle;
    }
  }

  .container {
    @include container;
    position: relative;

    @media (max-width: $breakpoint-sm) {
      padding: 0 10px;
    }

    // Projects grid
    .projects__grid {
      display: flex;
      flex-direction: column;
      gap: $space-40;
    }

    // Individual project card styling
    .project-card {
      height: inherit;
      box-shadow: 0px 0px 4px 0px $color-text-lighter;
      position: relative;
      overflow: hidden;
      z-index: 15;
      background: $color-bg;
      border-radius: $radius-lg;
      transition: all 0.3s ease;

      .project-card__container {
        height: clamp(500px, 100%, 850px);
        display: grid;
        grid-template-columns: 1fr 350px;

        @media (max-width: $breakpoint-2md) {
          grid-template-columns: 1fr 200px;
        }

        @media (max-width: $breakpoint-md) {
          grid-template-columns: 1fr;
        }

        // Media Section (Left Side)
        .project-card__media-section {
          position: relative;
          overflow: hidden;
          border-radius: 0 40px 40px 0;
          box-shadow: 0 0 4px $color-primary;

          @media (max-width: $breakpoint-md) {
            height: 350px;
            border-radius: 0 0 20px 20px;
          }

          .project-card__media-container {
            position: relative;
            width: 100%;
            height: 100%;

            .project-card__media {
              width: 100%;
              height: 100%;
              object-fit: cover;
              object-position: top;
              transition: all 0.3s ease;

              &:hover {
                transform: scale(1.02);
              }

              // @media (max-width: $breakpoint-md) {
              //   object-fit: cover;
              // }
            }
          }

          .project-card__media-controls {
            position: absolute;
            bottom: $space-24;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: $space-4;
            padding: $space-8 $space-16;
            background: $color-border-hover;
            border-radius: 5px;

            @media (max-width: $breakpoint-md) {
              padding: $space-8 $space-12;
            }

            .project-card__media-btn {
              @include flex-center;
              width: 25px;
              aspect-ratio: 1/1;
              border: none;
              border-radius: 50%;
              background: $color-border;
              color: $color-surface;
              cursor: pointer;
              transition: all 0.2s ease-in-out;

              &:hover {
                background: $color-border-light;
                scale: 1.05;
              }

              svg {
                all: unset;
                font-size: 15px;
              }

              &--active {
                background: $color-border-light;
                scale: 1.05;

                &:hover {
                  scale: 1.08;
                  background: $color-border;
                }
              }
            }
          }
        }

        // Details Section (Right Side)
        .project-card__details {
          height: inherit;
          padding: clamp($space-12, 1vw, $space-24);

          .project-card__header {
            @include flex-between;
            margin-bottom: $space-24;

            @media (max-width: $breakpoint-2md) {
              align-items: start;
            }

            .project-card__logo {
              width: 50px;
              aspect-ratio: 1/1;
              border-radius: $radius-lg;
              overflow: hidden;
              transition: all 0.2s ease;

              img {
                width: 100%;
                height: 100%;
                object-fit: contain;
              }
              &:hover {
                scale: 1.09;
              }
            }

            .project-card__title-section {
              margin-right: auto;
              margin-left: $space-16;

              .project-card__title {
                font-size: clamp($font-size-16, 1vw, $font-size-20);
                font-weight: $fw-bold;
                color: $color-text;
                margin-bottom: $space-4;
                line-height: 1.2;
              }

              .project-card__subtitle {
                font-size: clamp($font-size-12, 1vw, $font-size-14);
                color: $color-text-light;
                font-weight: $fw-medium;
                word-spacing: -1px;
              }
            }
          }

          .project-card__content {
            @include flex-column;
            gap: $space-16;

            .project-card__description {
              color: $color-text-muted;
              line-height: $line-height-relaxed;
              font-size: $font-size-14;
              font-size: clamp($font-size-12, 1vw, $font-size-16);
            }

            // Tech Stack Section
            .project-card__tech-stack {
              .project-card__tech-title {
                font-size: $font-size-12;
                text-transform: uppercase;
                margin-bottom: $space-8;
                word-spacing: -3px;
                font-weight: $fw-semibold;
                color: $color-text;
              }

              .project-card__technologies {
                display: flex;
                flex-wrap: wrap;
                gap: $space-4;

                .project-card__tech-item {
                  @include flex-center;
                  font-weight: $fw-medium;
                  color: $color-text;
                  transition: all 0.3s ease;
                  border-radius: 50px;
                  padding: $space-8 $space-12;

                  &:hover {
                    scale: 1.3;
                  }

                  span {
                    color: var(--colorTech);
                    text-transform: capitalize;
                    font-size: $font-size-12;
                    font-weight: $fw-semibold;
                    margin-left: $space-4;

                    @media (max-width: $breakpoint-2md) {
                      display: none;
                    }
                  }

                  @media (max-width: $breakpoint-2md) {
                    padding: 0;
                    width: 35px;
                    aspect-ratio: 1/1;
                    box-shadow: inset 0 0 5px var(--colorTech);
                  }
                }

                @media (max-width: $breakpoint-md) {
                  margin-bottom: $space-40;
                }
              }
            }
          }
        }

        .project-card__links {
          position: absolute;
          right: $space-24;
          bottom: $space-24;
          display: flex;
          gap: $space-8;

          .project-card__link {
            @include flex-center;
            gap: $space-4;
            transition: all 0.3s ease;
            color: $color-text;
            padding: $space-4 $space-8;
            border-radius: $radius-md;
            border: 1px solid $color-text;

            &:hover {
              transform: scale(1.15);
            }

            span {
              font-size: clamp($font-size-12, 1vw, $font-size-14);
            }

            svg {
              font-size: clamp($font-size-12, 1vw, $font-size-14);
            }
          }

          .project-card__link:nth-child(1) {
            background-color: $color-text;
            color: $color-surface;
          }

          @media (max-width: $breakpoint-2md) {
            right: $space-12;
            bottom: $space-12;
          }
        }
      }
    }
  }
}
